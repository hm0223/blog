<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ECMAScript | hwf&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blog/img/icon.jpg">
    <link rel="stylesheet" href="/blog/css/style.css">
    <meta name="description" content="1.1.什么是ECMAScript？
来看下前端的发展历程：
&gt; web1.0时代：
最初的网页以HTML为主，是纯静态的网页。网页是只读的，信息流只能从服务的到客户端单向流通。开发人员也只关心页面的样式和内容即可。
&gt; web2.0时代：
1995年，网景工程师Brendan Eich 花了10天时间设计了JavaScript语言。 ...">
    
    <link rel="preload" href="/blog/assets/css/0.styles.a7bd39b5.css" as="style"><link rel="preload" href="/blog/assets/js/app.383ec838.js" as="script"><link rel="preload" href="/blog/assets/js/4.8d2e81fe.js" as="script"><link rel="preload" href="/blog/assets/js/8.3d94b543.js" as="script"><link rel="preload" href="/blog/assets/js/32.d4851cf3.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.9c48db8d.js"><link rel="prefetch" href="/blog/assets/js/100.2983b7bc.js"><link rel="prefetch" href="/blog/assets/js/101.681ea658.js"><link rel="prefetch" href="/blog/assets/js/102.5598ae49.js"><link rel="prefetch" href="/blog/assets/js/103.abbb491f.js"><link rel="prefetch" href="/blog/assets/js/104.09d86533.js"><link rel="prefetch" href="/blog/assets/js/105.32566df6.js"><link rel="prefetch" href="/blog/assets/js/106.8c97b729.js"><link rel="prefetch" href="/blog/assets/js/107.3126233d.js"><link rel="prefetch" href="/blog/assets/js/108.14963064.js"><link rel="prefetch" href="/blog/assets/js/109.6b95c464.js"><link rel="prefetch" href="/blog/assets/js/11.0400063b.js"><link rel="prefetch" href="/blog/assets/js/110.8b53c5e1.js"><link rel="prefetch" href="/blog/assets/js/111.221282ea.js"><link rel="prefetch" href="/blog/assets/js/112.b6346bfe.js"><link rel="prefetch" href="/blog/assets/js/113.c1a278e5.js"><link rel="prefetch" href="/blog/assets/js/114.ba058156.js"><link rel="prefetch" href="/blog/assets/js/115.dabd326d.js"><link rel="prefetch" href="/blog/assets/js/116.37ecbe37.js"><link rel="prefetch" href="/blog/assets/js/117.6f46cd61.js"><link rel="prefetch" href="/blog/assets/js/118.bb946a12.js"><link rel="prefetch" href="/blog/assets/js/119.b8430cce.js"><link rel="prefetch" href="/blog/assets/js/12.24aea172.js"><link rel="prefetch" href="/blog/assets/js/120.6a76a022.js"><link rel="prefetch" href="/blog/assets/js/121.9fd8b503.js"><link rel="prefetch" href="/blog/assets/js/122.5f4bbacf.js"><link rel="prefetch" href="/blog/assets/js/123.dfaf89e6.js"><link rel="prefetch" href="/blog/assets/js/124.d46cf9d0.js"><link rel="prefetch" href="/blog/assets/js/125.98abc3ca.js"><link rel="prefetch" href="/blog/assets/js/126.cc5a4819.js"><link rel="prefetch" href="/blog/assets/js/127.9f6a3f58.js"><link rel="prefetch" href="/blog/assets/js/128.659384e0.js"><link rel="prefetch" href="/blog/assets/js/129.4a5258c0.js"><link rel="prefetch" href="/blog/assets/js/13.6ea8a656.js"><link rel="prefetch" href="/blog/assets/js/130.c54220e9.js"><link rel="prefetch" href="/blog/assets/js/131.1e862133.js"><link rel="prefetch" href="/blog/assets/js/132.2f677491.js"><link rel="prefetch" href="/blog/assets/js/133.3466b840.js"><link rel="prefetch" href="/blog/assets/js/134.554dc48d.js"><link rel="prefetch" href="/blog/assets/js/135.5f32edb9.js"><link rel="prefetch" href="/blog/assets/js/136.bd029464.js"><link rel="prefetch" href="/blog/assets/js/137.3dfaacd6.js"><link rel="prefetch" href="/blog/assets/js/138.b925619b.js"><link rel="prefetch" href="/blog/assets/js/139.0943f266.js"><link rel="prefetch" href="/blog/assets/js/14.fdad2801.js"><link rel="prefetch" href="/blog/assets/js/140.0d3d705c.js"><link rel="prefetch" href="/blog/assets/js/141.69543f58.js"><link rel="prefetch" href="/blog/assets/js/142.44104473.js"><link rel="prefetch" href="/blog/assets/js/143.1d56f1e6.js"><link rel="prefetch" href="/blog/assets/js/15.fd54378a.js"><link rel="prefetch" href="/blog/assets/js/16.dd53a820.js"><link rel="prefetch" href="/blog/assets/js/17.ff3332b4.js"><link rel="prefetch" href="/blog/assets/js/18.9b6a9b0c.js"><link rel="prefetch" href="/blog/assets/js/19.50721b64.js"><link rel="prefetch" href="/blog/assets/js/2.cb6cd022.js"><link rel="prefetch" href="/blog/assets/js/20.1c019ed1.js"><link rel="prefetch" href="/blog/assets/js/21.d30b18ed.js"><link rel="prefetch" href="/blog/assets/js/22.9075a979.js"><link rel="prefetch" href="/blog/assets/js/23.3a438103.js"><link rel="prefetch" href="/blog/assets/js/24.542e2636.js"><link rel="prefetch" href="/blog/assets/js/25.2dbecac8.js"><link rel="prefetch" href="/blog/assets/js/26.ed62d413.js"><link rel="prefetch" href="/blog/assets/js/27.2a5c7b5b.js"><link rel="prefetch" href="/blog/assets/js/28.190d5257.js"><link rel="prefetch" href="/blog/assets/js/29.403ae590.js"><link rel="prefetch" href="/blog/assets/js/3.8e37ab2b.js"><link rel="prefetch" href="/blog/assets/js/30.dd83a2cb.js"><link rel="prefetch" href="/blog/assets/js/31.f00de04f.js"><link rel="prefetch" href="/blog/assets/js/33.12f176cd.js"><link rel="prefetch" href="/blog/assets/js/34.afcfd6db.js"><link rel="prefetch" href="/blog/assets/js/35.fecb496e.js"><link rel="prefetch" href="/blog/assets/js/36.371b7c83.js"><link rel="prefetch" href="/blog/assets/js/37.2dd980ce.js"><link rel="prefetch" href="/blog/assets/js/38.606dc49c.js"><link rel="prefetch" href="/blog/assets/js/39.9496b374.js"><link rel="prefetch" href="/blog/assets/js/40.3d1596a1.js"><link rel="prefetch" href="/blog/assets/js/41.03eb20a6.js"><link rel="prefetch" href="/blog/assets/js/42.8281da58.js"><link rel="prefetch" href="/blog/assets/js/43.e02229e1.js"><link rel="prefetch" href="/blog/assets/js/44.e3e3dcbd.js"><link rel="prefetch" href="/blog/assets/js/45.49bcd13f.js"><link rel="prefetch" href="/blog/assets/js/46.34c69996.js"><link rel="prefetch" href="/blog/assets/js/47.92ad5724.js"><link rel="prefetch" href="/blog/assets/js/48.efcf4d59.js"><link rel="prefetch" href="/blog/assets/js/49.99019c2e.js"><link rel="prefetch" href="/blog/assets/js/5.3f125714.js"><link rel="prefetch" href="/blog/assets/js/50.823786fe.js"><link rel="prefetch" href="/blog/assets/js/51.05acfcf9.js"><link rel="prefetch" href="/blog/assets/js/52.01dead6a.js"><link rel="prefetch" href="/blog/assets/js/53.075b204c.js"><link rel="prefetch" href="/blog/assets/js/54.b52542a7.js"><link rel="prefetch" href="/blog/assets/js/55.e27fa5b7.js"><link rel="prefetch" href="/blog/assets/js/56.403eac99.js"><link rel="prefetch" href="/blog/assets/js/57.9e158b65.js"><link rel="prefetch" href="/blog/assets/js/58.736abf42.js"><link rel="prefetch" href="/blog/assets/js/59.98ac6690.js"><link rel="prefetch" href="/blog/assets/js/6.40a439a2.js"><link rel="prefetch" href="/blog/assets/js/60.eb776ab3.js"><link rel="prefetch" href="/blog/assets/js/61.c8277263.js"><link rel="prefetch" href="/blog/assets/js/62.6b394e21.js"><link rel="prefetch" href="/blog/assets/js/63.43235ae6.js"><link rel="prefetch" href="/blog/assets/js/64.4d489fbf.js"><link rel="prefetch" href="/blog/assets/js/65.38b087a3.js"><link rel="prefetch" href="/blog/assets/js/66.d3ddfd22.js"><link rel="prefetch" href="/blog/assets/js/67.177fee2d.js"><link rel="prefetch" href="/blog/assets/js/68.efbb98e8.js"><link rel="prefetch" href="/blog/assets/js/69.6dd58a0f.js"><link rel="prefetch" href="/blog/assets/js/7.df8c5326.js"><link rel="prefetch" href="/blog/assets/js/70.50fc811f.js"><link rel="prefetch" href="/blog/assets/js/71.44cd3f3d.js"><link rel="prefetch" href="/blog/assets/js/72.ade25ec3.js"><link rel="prefetch" href="/blog/assets/js/73.f5271e33.js"><link rel="prefetch" href="/blog/assets/js/74.d46378f0.js"><link rel="prefetch" href="/blog/assets/js/75.65fa0f52.js"><link rel="prefetch" href="/blog/assets/js/76.44129e13.js"><link rel="prefetch" href="/blog/assets/js/77.67b5509c.js"><link rel="prefetch" href="/blog/assets/js/78.9e9f5537.js"><link rel="prefetch" href="/blog/assets/js/79.20025f76.js"><link rel="prefetch" href="/blog/assets/js/80.52f9c320.js"><link rel="prefetch" href="/blog/assets/js/81.098091e9.js"><link rel="prefetch" href="/blog/assets/js/82.eeec7404.js"><link rel="prefetch" href="/blog/assets/js/83.4f3e7e8f.js"><link rel="prefetch" href="/blog/assets/js/84.0ade816c.js"><link rel="prefetch" href="/blog/assets/js/85.8edaea39.js"><link rel="prefetch" href="/blog/assets/js/86.abd897c3.js"><link rel="prefetch" href="/blog/assets/js/87.e2421a9d.js"><link rel="prefetch" href="/blog/assets/js/88.b3ca3f67.js"><link rel="prefetch" href="/blog/assets/js/89.145e9ac2.js"><link rel="prefetch" href="/blog/assets/js/90.cd237acb.js"><link rel="prefetch" href="/blog/assets/js/91.ab76aec8.js"><link rel="prefetch" href="/blog/assets/js/92.5ee41747.js"><link rel="prefetch" href="/blog/assets/js/93.50e6fd4d.js"><link rel="prefetch" href="/blog/assets/js/94.31aa874d.js"><link rel="prefetch" href="/blog/assets/js/95.856fae0f.js"><link rel="prefetch" href="/blog/assets/js/96.1eefea56.js"><link rel="prefetch" href="/blog/assets/js/97.9a10ae65.js"><link rel="prefetch" href="/blog/assets/js/98.dff8d1ed.js"><link rel="prefetch" href="/blog/assets/js/99.327aff60.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.d3113ca5.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a7bd39b5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">hwf's blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">hwf's blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div><div class="content__default"><h1 id="ecmascript"><a href="#ecmascript" class="header-anchor">#</a> ECMAScript</h1> <h2 id="_1-1-什么是ecmascript"><a href="#_1-1-什么是ecmascript" class="header-anchor">#</a> 1.1.什么是ECMAScript？</h2> <p>来看下前端的发展历程：</p> <blockquote><p>web1.0时代：</p></blockquote> <ul><li>最初的网页以HTML为主，是纯静态的网页。网页是只读的，信息流只能从服务的到客户端单向流通。<strong>开发人员也只关心页面的样式和内容</strong>即可。</li></ul> <blockquote><p>web2.0时代：</p></blockquote> <ul><li>1995年，网景工程师Brendan Eich 花了10天时间设计了JavaScript语言。</li> <li>1996年，微软发布了JScript，其实是JavaScript的逆向工程实现。</li> <li>1997年，为了统一各种不同script脚本语言，ECMA（欧洲计算机制造商协会）以JavaScript为基础，制定了<code>ECMAscript</code>标准规范。JavaScript和JScript都是<code>ECMAScript</code>的标准实现者，随后各大浏览器厂商纷纷实现了<code>ECMAScript</code>标准。</li></ul> <p>所以，ECMAScript是浏览器脚本语言的规范，而各种我们熟知的js语言，如JavaScript则是规范的具体实现。</p> <h2 id="_1-2-ecmascript的快速发展"><a href="#_1-2-ecmascript的快速发展" class="header-anchor">#</a> 1.2.ECMAScript的快速发展</h2> <p>而后，ECMAScript就进入了快速发展期。</p> <ul><li><p>1998年6月，ECMAScript 2.0 发布。</p></li> <li><p>1999年12月，ECMAScript 3.0 发布。这时，ECMAScript 规范本身也相对比较完善和稳定了，但是接下来的事情，就比较悲剧了。</p></li> <li><p>2007年10月。。。。ECMAScript 4.0 草案发布。</p> <p>这次的新规范，历时颇久，规范的新内容也有了很多争议。在制定ES4的时候，是分成了两个工作组同时工作的。</p> <ul><li>一边是以 Adobe, Mozilla, Opera 和 Google为主的 ECMAScript 4 工作组。</li> <li>一边是以 Microsoft 和 Yahoo 为主的 ECMAScript 3.1 工作组。</li></ul> <p>ECMAScript 4 的很多主张比较激进，改动较大。而 ECMAScript 3.1 则主张小幅更新。最终经过 TC39 的会议，决定将一部分不那么激进的改动保留发布为 ECMAScript 3.1，而ES4的内容，则延续到了后来的ECMAScript5和6版本中</p></li> <li><p>2009年12月，ECMAScript 5 发布。</p></li> <li><p>2011年6月，ECMAScript 5.1 发布。</p></li> <li><p>2015年6月，ECMAScript 6，也就是 ECMAScript 2015 发布了。 并且从 ECMAScript 6 开始，开始采用年号来做版本。即 ECMAScript 2015，就是ECMAScript6。</p></li></ul> <h2 id="_1-3-es5和6的一些新特性"><a href="#_1-3-es5和6的一些新特性" class="header-anchor">#</a> 1.3.ES5和6的一些新特性</h2> <p>我们这里只把一些常用的进行学习，更详细的大家参考：<a href="http://es6.ruanyifeng.com/?search=reduce&amp;x=0&amp;y=0#README" target="_blank" rel="noopener noreferrer">阮一峰的ES6教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_1-3-1-let-和-const-命令"><a href="#_1-3-1-let-和-const-命令" class="header-anchor">#</a> 1.3.1.let 和 const 命令</h3> <blockquote><p>var</p></blockquote> <p>之前，js定义变量只有一个关键字：<code>var</code></p> <p><code>var</code>有一个问题，就是定义的变量有时会莫名奇妙的成为全局变量。</p> <p>例如这样的一段代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;循环外：&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
</code></pre></div><p>你猜下打印的结果是什么？</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526107278999.png" alt="1526107278999"></p> <blockquote><p>let</p></blockquote> <p><code>let</code>所声明的变量，只在<code>let</code>命令所在的代码块内有效。</p> <p>我们把刚才的<code>var</code>改成<code>let</code>试试：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;循环外：&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
</code></pre></div><p>结果：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526107347275.png" alt="1526107347275"></p> <blockquote><p>const</p></blockquote> <p><code>const</code>声明的变量是常量，不能被修改</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526107425000.png" alt="1526107425000"></p> <h3 id="_1-3-2-字符串扩展"><a href="#_1-3-2-字符串扩展" class="header-anchor">#</a> 1.3.2.字符串扩展</h3> <blockquote><p>新的API</p></blockquote> <p>ES6为字符串扩展了几个新的API：</p> <ul><li><code>includes()</code>：返回布尔值，表示是否找到了参数字符串。</li> <li><code>startsWith()</code>：返回布尔值，表示参数字符串是否在原字符串的头部。</li> <li><code>endsWith()</code>：返回布尔值，表示参数字符串是否在原字符串的尾部。</li></ul> <p>实验一下：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526107640349.png" alt="1526107640349"></p> <blockquote><p>字符串模板</p></blockquote> <p>ES6中提供了`来作为字符串模板标记。我们可以这么玩：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526108070980.png" alt="1526108070980"></p> <p>在两个`之间的部分都会被作为字符串的值，不管你任意换行，甚至加入js脚本</p> <p>键盘是的1的左侧，tab的上侧，esc的正下方</p> <h3 id="_1-3-3-解构表达式"><a href="#_1-3-3-解构表达式" class="header-anchor">#</a> 1.3.3.解构表达式</h3> <blockquote><p>数组解构</p></blockquote> <p>比如有一个数组：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><p>我想获取其中的值，只能通过角标。ES6可以这样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span><span class="token comment">// x，y，z将与arr中的每个位置对应来取值</span>
<span class="token comment">// 然后打印</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>结果：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526109778368.png" alt="1526109778368"></p> <blockquote><p>对象解构</p></blockquote> <p>例如有个person对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">21</span><span class="token punctuation">,</span>
    <span class="token literal-property property">language</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'java'</span><span class="token punctuation">,</span><span class="token string">'js'</span><span class="token punctuation">,</span><span class="token string">'css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们可以这么做：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 解构表达式获取值</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>language<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
<span class="token comment">// 打印</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>结果：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526109984544.png" alt="1526109984544"></p> <p>如过想要用其它变量接收，需要额外指定别名：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526110159450.png" alt="1526110159450"></p> <ul><li><code>{name:n}</code>：name是person中的属性名，冒号后面的n是解构后要赋值给的变量。</li></ul> <h3 id="_1-3-4-函数优化"><a href="#_1-3-4-函数优化" class="header-anchor">#</a> 1.3.4.函数优化</h3> <blockquote><p>函数参数默认值</p></blockquote> <p>在ES6以前，我们无法给一个函数参数设置默认值，只能采用变通写法：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a <span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断b是否为空，为空就给默认值1</span>
        b <span class="token operator">=</span> b <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 传一个参数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在可以这么写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a <span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 传一个参数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>箭头函数</p></blockquote> <p>ES6中定义函数的简写方式：</p> <p>一个参数时：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">print</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 简写为：</span>
<span class="token keyword">var</span> <span class="token function-variable function">print2</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>多个参数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 两个参数的情况：</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a <span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 简写为：</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
</code></pre></div><p>代码不止一行，可以用<code>{}</code>括起来</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">sum3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>对象的函数属性简写</p></blockquote> <p>比如一个Person对象，里面有eat方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 以前：</span>
    <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;在吃&quot;</span> <span class="token operator">+</span> food<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 箭头函数版：</span>
    <span class="token function-variable function">eat2</span><span class="token operator">:</span> <span class="token parameter">food</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;在吃&quot;</span> <span class="token operator">+</span> food<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// 这里拿不到this</span>
    <span class="token comment">// 简写版：</span>
    <span class="token function">eat3</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;在吃&quot;</span> <span class="token operator">+</span> food<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>箭头函数结合解构表达式</p></blockquote> <p>比如有一个函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">21</span><span class="token punctuation">,</span>
    <span class="token literal-property property">language</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'java'</span><span class="token punctuation">,</span><span class="token string">'js'</span><span class="token punctuation">,</span><span class="token string">'css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello,&quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果用箭头函数和解构表达式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">hi</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello,&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-3-5-map和reduce"><a href="#_1-3-5-map和reduce" class="header-anchor">#</a> 1.3.5.map和reduce</h3> <p>数组中新增了map和reduce方法。</p> <blockquote><p>map</p></blockquote> <p><code>map()</code>：接收一个函数，将原数组中的所有元素用这个函数处理后放入新数组返回。</p> <p>举例：有一个字符串数组，我们希望转为int数组</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'20'</span><span class="token punctuation">,</span><span class="token string">'-5'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>

arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre></div><p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526110796839.png" alt="1526110796839"></p> <blockquote><p>reduce</p></blockquote> <p><code>reduce()</code>：接收一个函数（必须）和一个初始值（可选），该函数接收两个参数：</p> <ul><li>第一个参数是上一次reduce处理的结果</li> <li>第二个参数是数组中要处理的下一个元素</li></ul> <p><code>reduce()</code>会从左到右依次把数组中的元素用reduce处理，并把处理的结果作为下次reduce的第一个参数。如果是第一次，会把前两个元素作为计算参数，或者把用户指定的初始值作为起始参数</p> <p>举例：</p> <div class="language- extra-class"><pre class="language-text"><code>const arr = [1,20,-5,3]
</code></pre></div><p>没有初始值：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526111537204.png" alt="1526111537204"></p> <p>指定初始值：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526111580742.png" alt="1526111580742"></p> <h3 id="_1-3-6-promise"><a href="#_1-3-6-promise" class="header-anchor">#</a> 1.3.6.promise</h3> <p>所谓Promise，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理。</p> <p>感觉跟java的Future类很像啊，有木有！</p> <p>我们可以通过Promise的构造函数来创建Promise对象，并在内部封装一个异步执行的结果。</p> <p>语法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... 执行异步操作</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/* 异步操作成功 */</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 调用resolve，代表Promise将返回成功的结果</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 调用reject，代表Promise会返回失败结果</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这样，在promise中就封装了一段异步执行的结果。</p> <p>如果我们想要等待异步执行完成，做一些事情，我们可以通过promise的then方法来实现,语法：</p> <div class="language-js extra-class"><pre class="language-js"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 异步执行成功后的回调</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果想要处理promise异步执行失败的事件，还可以跟上catch：</p> <div class="language-js extra-class"><pre class="language-js"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 异步执行成功后的回调</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 异步执行失败后的回调</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>示例：</p> <div class="language- extra-class"><pre class="language-text"><code>const p = new Promise(function (resolve, reject) {
    // 这里我们用定时任务模拟异步
    setTimeout(() =&gt; {
        const num = Math.random();
        // 随机返回成功或失败
        if (num &lt; 0.5) {
            resolve(&quot;成功！num:&quot; + num)
        } else {
            reject(&quot;出错了！num:&quot; + num)
        }
    }, 300)
})

// 调用promise
p.then(function (msg) {
    console.log(msg);
}).catch(function (msg) {
    console.log(msg);
})

</code></pre></div><p>结果：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526113115887.png" alt="1526113115887"></p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526113140074.png" alt="1526113140074"></p> <h3 id="_1-3-7-set和map"><a href="#_1-3-7-set和map" class="header-anchor">#</a> 1.3.7.set和map</h3> <p>ES6提供了Set和Map的数据结构。</p> <p>Set，本质与数组类似。不同在于Set中只能保存不同元素，如果元素相同会被忽略。跟java很像吧。</p> <p>构造函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Set构造函数可以接收一个数组或空</span>
<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [1]</span>
<span class="token comment">// 接收数组</span>
<span class="token keyword">let</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 得到[2,3,4,5]</span>
</code></pre></div><p>普通方法：</p> <div class="language- extra-class"><pre class="language-text"><code>set.add(1);// 添加
set.clear();// 清空
set.delete(2);// 删除指定元素
set.has(2); // 判断是否存在
set.keys();// 返回所有key
set.values();// 返回所有值
set.entries();// 返回键值对集合
// 因为set没有键值对，所有其keys、values、entries方法返回值一样的。
set.size; // 元素个数。是属性，不是方法。

</code></pre></div><p>map，本质是与Object类似的结构。不同在于，Object强制规定key只能是字符串。而Map结构的key可以是任意对象。即：</p> <ul><li>object是 &lt;string,object&gt;集合</li> <li>map是&lt;object,object&gt;集合</li></ul> <p>构造函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// map接收一个数组，数组中的元素是键值对数组</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span><span class="token string">'value1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span><span class="token string">'value2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 或者接收一个set</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span><span class="token string">'value1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span><span class="token string">'value2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> map2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span>
<span class="token comment">// 或者其它map</span>
<span class="token keyword">const</span> map3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>方法：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day04-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E5%8F%8AES6/assets/1526114799767.png" alt="1526114799767"></p> <h3 id="_1-3-8-模块化"><a href="#_1-3-8-模块化" class="header-anchor">#</a> 1.3.8.模块化</h3> <h4 id="_1-3-8-1-什么是模块化"><a href="#_1-3-8-1-什么是模块化" class="header-anchor">#</a> 1.3.8.1.什么是模块化</h4> <p>模块化就是把代码进行拆分，方便重复利用。类似java中的导包：要使用一个包，必须先导包。</p> <p>而JS中没有包的概念，换来的是 模块。</p> <p>模块功能主要由两个命令构成：<code>export</code>和<code>import</code>。</p> <ul><li><code>export</code>命令用于规定模块的对外接口，</li> <li><code>import</code>命令用于导入其他模块提供的功能。</li></ul> <h4 id="_1-3-8-2-export"><a href="#_1-3-8-2-export" class="header-anchor">#</a> 1.3.8.2.export</h4> <p>比如我定义一个js文件:hello.js，里面有一个对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> util <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我可以使用export将这个对象导出：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> util <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> util<span class="token punctuation">;</span>
</code></pre></div><p>当然，也可以简写为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> util <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>export</code>不仅可以导出对象，一切JS变量都可以导出。比如：基本类型变量、函数、数组、对象。</p> <p>当要导出多个值时，还可以简写。比如我有一个文件：user.js：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;jack&quot;</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">21</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>省略名称</p></blockquote> <p>上面的导出代码中，都明确指定了导出的变量名，这样其它人在导入使用时就必须准确写出变量名，否则就会出错。</p> <p>因此js提供了<code>default</code>关键字，可以对导出的变量名进行省略</p> <p>例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 无需声明对象的名字</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样，当使用者导入时，可以任意起名字</p> <h4 id="_1-3-8-3-import"><a href="#_1-3-8-3-import" class="header-anchor">#</a> 1.3.8.3.import</h4> <p>使用<code>export</code>命令定义了模块的对外接口以后，其他 JS 文件就可以通过<code>import</code>命令加载这个模块。</p> <p>例如我要使用上面导出的util：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入util</span>
<span class="token keyword">import</span> util <span class="token keyword">from</span> <span class="token string">'hello.js'</span>
<span class="token comment">// 调用util中的属性</span>
util<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>要批量导入前面导出的name和age：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> age<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'user.js'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; , 今年&quot;</span><span class="token operator">+</span> age <span class="token operator">+</span><span class="token string">&quot;岁了&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>但是上面的代码暂时无法测试，因为浏览器目前还不支持ES6 的导入和导出功能。除非借助于工具，把ES6 的语法进行编译降级到ES5，比如<code>Babel-cli</code>工具</p> <p>我们暂时不做测试，大家了解即可。</p> <h3 id="_1-3-9-对象扩展"><a href="#_1-3-9-对象扩展" class="header-anchor">#</a> 1.3.9.对象扩展</h3> <p>ES6给Object拓展了许多新的方法，如：</p> <ul><li>keys(obj)：获取对象的所有key形成的数组</li> <li>values(obj)：获取对象的所有value形成的数组</li> <li>entries(obj)：获取对象的所有key和value形成的二维数组。格式：<code>[[k1,v1],[k2,v2],...]</code></li> <li>assian(dest, ...src) ：将多个src对象的值 拷贝到 dest中（浅拷贝）。</li></ul> <h3 id="_1-3-10-数组扩展"><a href="#_1-3-10-数组扩展" class="header-anchor">#</a> 1.3.10.数组扩展</h3> <p>ES6给数组新增了许多方法：</p> <ul><li>find(callback)：把数组中的元素逐个传递给函数callback执行，如果返回true，则返回该元素</li> <li>findIndex(callback)：与find类似，不过返回的是品牌到的元素的索引</li> <li>includes（callback）：与find类似，如果匹配到元素，则返回true，代表找到了。</li></ul></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.383ec838.js" defer></script><script src="/blog/assets/js/4.8d2e81fe.js" defer></script><script src="/blog/assets/js/8.3d94b543.js" defer></script><script src="/blog/assets/js/32.d4851cf3.js" defer></script>
  </body>
</html>
