<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1、异步查询工具axios | 就问你学不学</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/img/icon.jpg">
    <link rel="stylesheet" href="/blog/css/style.css">
    <meta name="description" content="一时不学一时爽 一直不学一直爽">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.b9273b31.js" as="script"><link rel="preload" href="/blog/assets/js/2.a919457f.js" as="script"><link rel="preload" href="/blog/assets/js/21.1dc6915d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.eb409e88.js"><link rel="prefetch" href="/blog/assets/js/100.3f217fe9.js"><link rel="prefetch" href="/blog/assets/js/101.9d14667a.js"><link rel="prefetch" href="/blog/assets/js/102.151ebd39.js"><link rel="prefetch" href="/blog/assets/js/103.e9ed74d9.js"><link rel="prefetch" href="/blog/assets/js/104.20e3eadd.js"><link rel="prefetch" href="/blog/assets/js/105.0dc8af45.js"><link rel="prefetch" href="/blog/assets/js/106.4207c5e2.js"><link rel="prefetch" href="/blog/assets/js/107.89e638be.js"><link rel="prefetch" href="/blog/assets/js/108.0d43e966.js"><link rel="prefetch" href="/blog/assets/js/109.ce709703.js"><link rel="prefetch" href="/blog/assets/js/11.1b1fddca.js"><link rel="prefetch" href="/blog/assets/js/110.abca37bd.js"><link rel="prefetch" href="/blog/assets/js/111.be864651.js"><link rel="prefetch" href="/blog/assets/js/112.47fff443.js"><link rel="prefetch" href="/blog/assets/js/113.01d464c2.js"><link rel="prefetch" href="/blog/assets/js/114.799c62ad.js"><link rel="prefetch" href="/blog/assets/js/115.6362b5b2.js"><link rel="prefetch" href="/blog/assets/js/116.47871bc2.js"><link rel="prefetch" href="/blog/assets/js/117.eb0fc6e0.js"><link rel="prefetch" href="/blog/assets/js/118.afcec2d0.js"><link rel="prefetch" href="/blog/assets/js/119.21a98557.js"><link rel="prefetch" href="/blog/assets/js/12.83d42d92.js"><link rel="prefetch" href="/blog/assets/js/120.483936f4.js"><link rel="prefetch" href="/blog/assets/js/121.cd1fd957.js"><link rel="prefetch" href="/blog/assets/js/122.cb17a43a.js"><link rel="prefetch" href="/blog/assets/js/123.e96508d2.js"><link rel="prefetch" href="/blog/assets/js/124.2aa20394.js"><link rel="prefetch" href="/blog/assets/js/125.9dfd6574.js"><link rel="prefetch" href="/blog/assets/js/126.1d173adc.js"><link rel="prefetch" href="/blog/assets/js/127.6477f5d9.js"><link rel="prefetch" href="/blog/assets/js/128.c9084433.js"><link rel="prefetch" href="/blog/assets/js/129.6865344d.js"><link rel="prefetch" href="/blog/assets/js/13.e03d44f0.js"><link rel="prefetch" href="/blog/assets/js/130.58150bfd.js"><link rel="prefetch" href="/blog/assets/js/131.4a8a7af2.js"><link rel="prefetch" href="/blog/assets/js/132.16a8c34a.js"><link rel="prefetch" href="/blog/assets/js/133.2a5afa49.js"><link rel="prefetch" href="/blog/assets/js/14.b7938acc.js"><link rel="prefetch" href="/blog/assets/js/15.fb1b5215.js"><link rel="prefetch" href="/blog/assets/js/16.07c91246.js"><link rel="prefetch" href="/blog/assets/js/17.095f5a4f.js"><link rel="prefetch" href="/blog/assets/js/18.0e408f20.js"><link rel="prefetch" href="/blog/assets/js/19.5a9e5b3b.js"><link rel="prefetch" href="/blog/assets/js/20.906cae4f.js"><link rel="prefetch" href="/blog/assets/js/22.13df625f.js"><link rel="prefetch" href="/blog/assets/js/23.c32f30b3.js"><link rel="prefetch" href="/blog/assets/js/24.72446997.js"><link rel="prefetch" href="/blog/assets/js/25.a07ab2ce.js"><link rel="prefetch" href="/blog/assets/js/26.2e68d76c.js"><link rel="prefetch" href="/blog/assets/js/27.e22085be.js"><link rel="prefetch" href="/blog/assets/js/28.14b0546a.js"><link rel="prefetch" href="/blog/assets/js/29.a597cd38.js"><link rel="prefetch" href="/blog/assets/js/3.5b997c96.js"><link rel="prefetch" href="/blog/assets/js/30.21fd2f6b.js"><link rel="prefetch" href="/blog/assets/js/31.0afa085e.js"><link rel="prefetch" href="/blog/assets/js/32.617af259.js"><link rel="prefetch" href="/blog/assets/js/33.fb25f6ab.js"><link rel="prefetch" href="/blog/assets/js/34.eab36e97.js"><link rel="prefetch" href="/blog/assets/js/35.e0e42f28.js"><link rel="prefetch" href="/blog/assets/js/36.5bf5c02a.js"><link rel="prefetch" href="/blog/assets/js/37.58673278.js"><link rel="prefetch" href="/blog/assets/js/38.21ad9984.js"><link rel="prefetch" href="/blog/assets/js/39.6ff55661.js"><link rel="prefetch" href="/blog/assets/js/4.d6cdcb57.js"><link rel="prefetch" href="/blog/assets/js/40.2cba54e2.js"><link rel="prefetch" href="/blog/assets/js/41.84a20a21.js"><link rel="prefetch" href="/blog/assets/js/42.b3a29123.js"><link rel="prefetch" href="/blog/assets/js/43.e8cdae99.js"><link rel="prefetch" href="/blog/assets/js/44.1df00f15.js"><link rel="prefetch" href="/blog/assets/js/45.fe00ab2d.js"><link rel="prefetch" href="/blog/assets/js/46.2d367baa.js"><link rel="prefetch" href="/blog/assets/js/47.9fcd558a.js"><link rel="prefetch" href="/blog/assets/js/48.46e2e035.js"><link rel="prefetch" href="/blog/assets/js/49.0092130e.js"><link rel="prefetch" href="/blog/assets/js/5.4f712cfc.js"><link rel="prefetch" href="/blog/assets/js/50.1a0ae5e3.js"><link rel="prefetch" href="/blog/assets/js/51.ec37e7db.js"><link rel="prefetch" href="/blog/assets/js/52.dbcc032f.js"><link rel="prefetch" href="/blog/assets/js/53.2332a201.js"><link rel="prefetch" href="/blog/assets/js/54.b5029957.js"><link rel="prefetch" href="/blog/assets/js/55.8c6b22f7.js"><link rel="prefetch" href="/blog/assets/js/56.abd4bb82.js"><link rel="prefetch" href="/blog/assets/js/57.bd7b8633.js"><link rel="prefetch" href="/blog/assets/js/58.f724aa6a.js"><link rel="prefetch" href="/blog/assets/js/59.3475e7b8.js"><link rel="prefetch" href="/blog/assets/js/6.d7e152ce.js"><link rel="prefetch" href="/blog/assets/js/60.058714d1.js"><link rel="prefetch" href="/blog/assets/js/61.0740b5c3.js"><link rel="prefetch" href="/blog/assets/js/62.4f184bd7.js"><link rel="prefetch" href="/blog/assets/js/63.7a9d91cc.js"><link rel="prefetch" href="/blog/assets/js/64.c28388ea.js"><link rel="prefetch" href="/blog/assets/js/65.8a5b1276.js"><link rel="prefetch" href="/blog/assets/js/66.4aecce48.js"><link rel="prefetch" href="/blog/assets/js/67.8f7c754e.js"><link rel="prefetch" href="/blog/assets/js/68.f9bbebe3.js"><link rel="prefetch" href="/blog/assets/js/69.50649a9a.js"><link rel="prefetch" href="/blog/assets/js/7.184419e9.js"><link rel="prefetch" href="/blog/assets/js/70.ac56aedb.js"><link rel="prefetch" href="/blog/assets/js/71.6e53863b.js"><link rel="prefetch" href="/blog/assets/js/72.f1f01011.js"><link rel="prefetch" href="/blog/assets/js/73.f6598b47.js"><link rel="prefetch" href="/blog/assets/js/74.59684f4d.js"><link rel="prefetch" href="/blog/assets/js/75.0f462117.js"><link rel="prefetch" href="/blog/assets/js/76.63c07c20.js"><link rel="prefetch" href="/blog/assets/js/77.7ebba5a9.js"><link rel="prefetch" href="/blog/assets/js/78.3eb62203.js"><link rel="prefetch" href="/blog/assets/js/79.4c3b40cd.js"><link rel="prefetch" href="/blog/assets/js/8.3ebbe8ad.js"><link rel="prefetch" href="/blog/assets/js/80.1029dfc9.js"><link rel="prefetch" href="/blog/assets/js/81.4280cfe1.js"><link rel="prefetch" href="/blog/assets/js/82.e394188e.js"><link rel="prefetch" href="/blog/assets/js/83.9f6a27c1.js"><link rel="prefetch" href="/blog/assets/js/84.e177487a.js"><link rel="prefetch" href="/blog/assets/js/85.14a2fa85.js"><link rel="prefetch" href="/blog/assets/js/86.21677160.js"><link rel="prefetch" href="/blog/assets/js/87.a41d1d08.js"><link rel="prefetch" href="/blog/assets/js/88.7f89fdac.js"><link rel="prefetch" href="/blog/assets/js/89.7cbf54ff.js"><link rel="prefetch" href="/blog/assets/js/9.c1afbadb.js"><link rel="prefetch" href="/blog/assets/js/90.8cc35a1e.js"><link rel="prefetch" href="/blog/assets/js/91.db52b1bc.js"><link rel="prefetch" href="/blog/assets/js/92.90db4ded.js"><link rel="prefetch" href="/blog/assets/js/93.01cd5a5d.js"><link rel="prefetch" href="/blog/assets/js/94.4c42d5b5.js"><link rel="prefetch" href="/blog/assets/js/95.012d67a2.js"><link rel="prefetch" href="/blog/assets/js/96.70211961.js"><link rel="prefetch" href="/blog/assets/js/97.12d99977.js"><link rel="prefetch" href="/blog/assets/js/98.7db8c36f.js"><link rel="prefetch" href="/blog/assets/js/99.b02ac7a0.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">就问你学不学</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><span class="title">Java基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java基础" class="mobile-dropdown-title"><span class="title">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/juc/" class="nav-link">
  并发
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/nio/" class="nav-link">
  NIO
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/jdk-features/" class="nav-link">
  JDK
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/data-structures-algorithms/" class="nav-link">
  数据结构/算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/design-pattern/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java框架" class="dropdown-title"><span class="title">Java框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java框架" class="mobile-dropdown-title"><span class="title">Java框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/spring-mvc/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/spring-boot/" class="nav-link">
  SpringBoot
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/spring-cloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/netty/" class="nav-link">
  Netty
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/blog/db/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/blog/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/middle-ware/job/" class="nav-link">
  Job
</a></li><li class="dropdown-item"><!----> <a href="/blog/middle-ware/mq/" class="nav-link">
  Mq
</a></li><li class="dropdown-item"><!----> <a href="/blog/middle-ware/fdfs/" class="nav-link">
  分布式文件系统
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux" class="mobile-dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux/vim/" class="nav-link">
  Vim
</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/shell/" class="nav-link">
  Shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-end/" class="nav-link router-link-active">
  Samples
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/hm0223/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/hm223/blog-all" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><span class="title">Java基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java基础" class="mobile-dropdown-title"><span class="title">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/juc/" class="nav-link">
  并发
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/nio/" class="nav-link">
  NIO
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/jdk-features/" class="nav-link">
  JDK
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/data-structures-algorithms/" class="nav-link">
  数据结构/算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/design-pattern/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java框架" class="dropdown-title"><span class="title">Java框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java框架" class="mobile-dropdown-title"><span class="title">Java框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/spring-mvc/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/frameworks-java/spring-boot/" class="nav-link">
  SpringBoot
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/dubbo/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/spring-cloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/micro-service/netty/" class="nav-link">
  Netty
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/blog/db/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/blog/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/middle-ware/job/" class="nav-link">
  Job
</a></li><li class="dropdown-item"><!----> <a href="/blog/middle-ware/mq/" class="nav-link">
  Mq
</a></li><li class="dropdown-item"><!----> <a href="/blog/middle-ware/fdfs/" class="nav-link">
  分布式文件系统
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux" class="mobile-dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux/vim/" class="nav-link">
  Vim
</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/shell/" class="nav-link">
  Shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-end/" class="nav-link router-link-active">
  Samples
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/hm0223/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/hm223/blog-all" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/front-end/ecs6-samples.html" class="sidebar-link">ECS6-快速入门</a></li><li><a href="/blog/front-end/vue2-samples.html" class="sidebar-link">Vue2快速入门</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1、异步查询工具axios"><a href="#_1、异步查询工具axios" class="header-anchor">#</a> 1、异步查询工具axios</h2> <p>异步查询数据，自然是通过ajax查询，大家首先想起的肯定是jQuery。但jQuery与MVVM的思想不吻合，而且ajax只是jQuery的一小部分。因此不可能为了发起ajax请求而去引用这么大的一个库。</p> <h3 id="_1-1axios入门"><a href="#_1-1axios入门" class="header-anchor">#</a> 1.1axios入门</h3> <p>Vue官方推荐的ajax请求框架叫做：axios，看下demo：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526033988251.png" alt="1526033988251"></p> <p>axios的Get请求语法：</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/item/category/list?pid=0&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 请求路径和请求参数拼接</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token comment">// 成功回调函数</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token comment">// 失败回调函数</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 参数较多时，可以通过params来传递参数</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/item/category/list&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">pid</span><span class="token operator">:</span><span class="token number">0</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 成功时的回调</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 失败时的回调</span>
</code></pre></div><p>axios的POST请求语法：</p> <p>比如新增一个用户</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">,</span>
    	<span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">21</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>注意，POST请求传参，不需要像GET请求那样定义一个对象，在对象的params参数中传参。post()方法的第二个参数对象，就是将来要传递的参数</li></ul> <p>PUT和DELETE请求与POST请求类似</p> <h3 id="_1-2axios的全局配置"><a href="#_1-2axios的全局配置" class="header-anchor">#</a> 1.2axios的全局配置</h3> <p>而在我们的项目中，已经引入了axios，并且进行了简单的封装，在src下的http.js中：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526034150067.png" alt="1526034150067"></p> <p>http.js中对axios进行了一些默认配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">'./config'</span>
<span class="token comment">// config中定义的基础路径是：http://api.leyou.com/api</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> config<span class="token punctuation">.</span>api<span class="token punctuation">;</span> <span class="token comment">// 设置axios的基础请求路径</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span> <span class="token comment">// 设置axios的请求时间</span>

<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios<span class="token punctuation">;</span><span class="token comment">// 将axios赋值给Vue原型的$http属性，这样所有vue实例都可使用该对象</span>

</code></pre></div><ul><li><p>http.js中导入了config的配置，还记得吗？</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526041205846.png" alt="1526041205846"></p></li> <li><p>http.js对axios进行了全局配置：<code>baseURL=config.api</code>，即<code>http://api.leyou.com/api</code>。因此以后所有用axios发起的请求，都会以这个地址作为前缀。</p></li> <li><p>通过<code>Vue.property.$http = axios</code>，将<code>axios</code>赋值给了 Vue原型中的<code>$http</code>。这样以后所有的Vue实例都可以访问到$http，也就是访问到了axios了。</p></li></ul> <h3 id="_1-3测试一下"><a href="#_1-3测试一下" class="header-anchor">#</a> 1.3测试一下：</h3> <p>我们在组件<code>MyBrand.vue</code>的getDataFromServer方法，通过$http发起get请求，测试查询品牌的接口，看是否能获取到数据：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526048079191.png" alt="1526048221750"></p> <p>网络监视：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526048143014.png" alt="1526048143014"></p> <p>控制台结果：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526048275064.png" alt="1526048275064"></p> <p>可以看到，在请求成功的返回结果response中，有一个data属性，里面就是真正的响应数据。</p> <p>响应结果中与我们设计的一致，包含3个内容：</p> <ul><li>total：总条数，目前是165</li> <li>items：当前页数据</li> <li>totalPage：总页数，我们没有返回</li></ul> <h3 id="_1-4异步加载品牌数据"><a href="#_1-4异步加载品牌数据" class="header-anchor">#</a> 1.4异步加载品牌数据</h3> <p>虽然已经通过ajax请求获取了品牌数据，但是刚才的请求没有携带任何参数，这样显然不对。我们后端接口需要5个参数：</p> <ul><li>page：当前页，int</li> <li>rows：每页大小，int</li> <li>sortBy：排序字段，String</li> <li>desc：是否为降序，boolean</li> <li>key：搜索关键词，String</li></ul> <p>而页面中分页信息应该是在pagination对象中，我们通过浏览器工具，查看pagination中有哪些属性：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526042136135.png" alt=""></p> <p>分别是：</p> <ul><li>descending：是否是降序，对应请求参数的desc</li> <li>page：当前页，对应参数的page</li> <li>rowsPerpage：每页大小，对应参数中的rows</li> <li>sortBy：排序字段，对应参数的sortBy</li></ul> <p>缺少一个搜索关键词，这个应该是通过v-model与输入框绑定的属性：search。这样，所有参数就都有了。</p> <p>另外，不要忘了把查询的结果赋值给brands和totalBrands属性，Vuetify会帮我们渲染页面。</p> <p>接下来，我们完善请求参数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 发起请求</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/item/brand/page&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>search<span class="token punctuation">,</span> <span class="token comment">// 搜索条件</span>
            <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">,</span><span class="token comment">// 当前页</span>
            <span class="token literal-property property">rows</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">.</span>rowsPerPage<span class="token punctuation">,</span><span class="token comment">// 每页大小</span>
            <span class="token literal-property property">sortBy</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">.</span>sortBy<span class="token punctuation">,</span><span class="token comment">// 排序字段</span>
            <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">.</span>descending<span class="token comment">// 是否降序</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resp</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 这里使用箭头函数</span>
        <span class="token comment">// 将得到的数据赋值给本地属性</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brands <span class="token operator">=</span> resp<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>totalBrands <span class="token operator">=</span> resp<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total<span class="token punctuation">;</span>
        <span class="token comment">// 完成赋值后，把加载状态赋值为false</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>查看网络请求：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526049810351.png" alt="1526049810351"></p> <p>效果：</p> <p><img src="F:%5C%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99%5C7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%5Cday06-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%5Cassets%5C1526049139244.png" alt="1526049139244"></p> <h2 id="_2、请求参数格式错误"><a href="#_2、请求参数格式错误" class="header-anchor">#</a> 2、请求参数格式错误</h2> <h3 id="_2-1原因分析"><a href="#_2-1原因分析" class="header-anchor">#</a> 2.1原因分析</h3> <p>我们填写表单并提交，发现报错了：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526180888663.png" alt="1526180888663"></p> <p>查看控制台的请求详情：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526180937974.png" alt="1526180937974"></p> <p>发现请求的数据格式是JSON格式。</p> <blockquote><p>原因分析：</p></blockquote> <p>axios处理请求体的原则会根据请求数据的格式来定：</p> <ul><li><p>如果请求体是对象：会转为json发送</p></li> <li><p>如果请求体是String：会作为普通表单请求发送，但需要我们自己保证String的格式是键值对。</p> <p>如：name=jack&amp;age=12</p></li></ul> <h3 id="_2-2-qs工具"><a href="#_2-2-qs工具" class="header-anchor">#</a> 2.2.QS工具</h3> <p>QS是一个第三方库，我们可以用<code>npm install qs --save</code>来安装。不过我们在项目中已经集成了，大家无需安装：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526181889564.png" alt="1526181889564"></p> <p>这个工具的名字：QS，即Query String，请求参数字符串。</p> <p>什么是请求参数字符串？例如： name=jack&amp;age=21</p> <p>QS工具可以便捷的实现 JS的Object与QueryString的转换。</p> <p>在我们的项目中，将QS注入到了Vue的原型对象中，我们可以通过<code>this.$qs</code>来获取这个工具：</p> <p>我们将<code>this.$qs</code>对象打印到控制台：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$qs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>发现其中有3个方法：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526181747560.png" alt="1526181747560"></p> <p>这里我们要使用的方法是stringify，它可以把Object转为QueryString。</p> <p>测试一下，使用浏览器工具，把qs对象保存为一个临时变量：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526182053758.png" alt="1526182053758"></p> <p>然后调用stringify方法：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526182230872.png" alt="1526182230872"></p> <p>成功将person对象变成了 name=jack&amp;age=21的字符串了</p> <h3 id="_2-3-解决问题"><a href="#_2-3-解决问题" class="header-anchor">#</a> 2.3.解决问题</h3> <p>修改页面，对参数处理后发送：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526181301670.png" alt="1526181301670"></p> <p>然后再次发起请求：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526181331443.png" alt="1526181331443"></p> <p>发现请求成功：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526181358204.png" alt="1526181358204"></p> <p>参数格式：</p> <p><img src="F:/%E8%A7%86%E9%A2%91+%E7%AC%94%E8%AE%B0+%E8%B5%84%E6%96%99/7%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/day08-%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86/assets/1526181384653.png" alt="1526181384653"></p> <p>数据库：</p> <p><img src="" alt="1526181553737"></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.b9273b31.js" defer></script><script src="/blog/assets/js/2.a919457f.js" defer></script><script src="/blog/assets/js/21.1dc6915d.js" defer></script>
  </body>
</html>
